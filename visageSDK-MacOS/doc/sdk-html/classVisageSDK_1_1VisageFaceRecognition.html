<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>visageSDK: VisageSDK::VisageFaceRecognition Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">visageSDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>VisageSDK</b></li><li class="navelem"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html">VisageFaceRecognition</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classVisageSDK_1_1VisageFaceRecognition-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">VisageSDK::VisageFaceRecognition Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html" title="VisageFaceRecognition class contains a face recognition algorithm capable of measuring similarity bet...">VisageFaceRecognition</a> class contains a face recognition algorithm capable of measuring similarity between human faces and recognizing a person's identity from frontal facial images (yaw angle approximately from -20 to 20 degrees).  
 <a href="classVisageSDK_1_1VisageFaceRecognition.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VisageFaceRecognition_8h_source.html">VisageFaceRecognition.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a12d3e5c94eae1f2ab4d41cba0702cac8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a12d3e5c94eae1f2ab4d41cba0702cac8">VisageFaceRecognition</a> (const char *dataPath)</td></tr>
<tr class="memdesc:a12d3e5c94eae1f2ab4d41cba0702cac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a12d3e5c94eae1f2ab4d41cba0702cac8">More...</a><br /></td></tr>
<tr class="separator:a12d3e5c94eae1f2ab4d41cba0702cac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a12acee786f99fba06dcf0f31a2ef2f"><td class="memItemLeft" align="right" valign="top"><a id="a5a12acee786f99fba06dcf0f31a2ef2f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a5a12acee786f99fba06dcf0f31a2ef2f">~VisageFaceRecognition</a> ()</td></tr>
<tr class="memdesc:a5a12acee786f99fba06dcf0f31a2ef2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a5a12acee786f99fba06dcf0f31a2ef2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8845a91fdb250e6507ec33065de595"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a7a8845a91fdb250e6507ec33065de595">getDescriptorSize</a> ()</td></tr>
<tr class="memdesc:a7a8845a91fdb250e6507ec33065de595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the descriptor's size.  <a href="#a7a8845a91fdb250e6507ec33065de595">More...</a><br /></td></tr>
<tr class="separator:a7a8845a91fdb250e6507ec33065de595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a12ea770a8e822018a2322b00ae701"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a07a12ea770a8e822018a2322b00ae701">extractDescriptor</a> (<a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *facedata, VsImage *image, short *descriptor)</td></tr>
<tr class="memdesc:a07a12ea770a8e822018a2322b00ae701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the face descriptor for face recognition from a facial image.  <a href="#a07a12ea770a8e822018a2322b00ae701">More...</a><br /></td></tr>
<tr class="separator:a07a12ea770a8e822018a2322b00ae701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f5c16de8390bf806dfb53fee0e9809"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a86f5c16de8390bf806dfb53fee0e9809">descriptorsSimilarity</a> (short *first_descriptor, short *second_descriptor)</td></tr>
<tr class="memdesc:a86f5c16de8390bf806dfb53fee0e9809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates similarity between two descriptors.  <a href="#a86f5c16de8390bf806dfb53fee0e9809">More...</a><br /></td></tr>
<tr class="separator:a86f5c16de8390bf806dfb53fee0e9809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91c11f870c9316735fe470501f9261a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#ac91c11f870c9316735fe470501f9261a">addDescriptor</a> (VsImage *image, <a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *facedata, const char *name)</td></tr>
<tr class="memdesc:ac91c11f870c9316735fe470501f9261a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts a face descriptor from the input RGB image and adds it to the gallery.  <a href="#ac91c11f870c9316735fe470501f9261a">More...</a><br /></td></tr>
<tr class="separator:ac91c11f870c9316735fe470501f9261a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbfc70ad38d7a2b9e88ef07239a3135c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#abbfc70ad38d7a2b9e88ef07239a3135c">addDescriptor</a> (short *descriptor, const char *name)</td></tr>
<tr class="memdesc:abbfc70ad38d7a2b9e88ef07239a3135c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds face descriptor to the gallery.  <a href="#abbfc70ad38d7a2b9e88ef07239a3135c">More...</a><br /></td></tr>
<tr class="separator:abbfc70ad38d7a2b9e88ef07239a3135c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69486334c7de336fdd4fd404af1b217"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#af69486334c7de336fdd4fd404af1b217">getDescriptorCount</a> ()</td></tr>
<tr class="memdesc:af69486334c7de336fdd4fd404af1b217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets number of descriptors in the gallery.  <a href="#af69486334c7de336fdd4fd404af1b217">More...</a><br /></td></tr>
<tr class="separator:af69486334c7de336fdd4fd404af1b217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aeed5002516004a63ececb15daa6827"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a8aeed5002516004a63ececb15daa6827">getDescriptorName</a> (char *name, int index)</td></tr>
<tr class="memdesc:a8aeed5002516004a63ececb15daa6827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of a descriptor at the given index in the gallery.  <a href="#a8aeed5002516004a63ececb15daa6827">More...</a><br /></td></tr>
<tr class="separator:a8aeed5002516004a63ececb15daa6827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fe3a006eb9ca249b4ded43ed7c6f4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a62fe3a006eb9ca249b4ded43ed7c6f4b">replaceDescriptorName</a> (const char *name, int index)</td></tr>
<tr class="memdesc:a62fe3a006eb9ca249b4ded43ed7c6f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces the name of a descriptor at the given index in the gallery with new name.  <a href="#a62fe3a006eb9ca249b4ded43ed7c6f4b">More...</a><br /></td></tr>
<tr class="separator:a62fe3a006eb9ca249b4ded43ed7c6f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdcc980bcd7bca9bd408c9e7f48aee8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a5fdcc980bcd7bca9bd408c9e7f48aee8">removeDescriptor</a> (int index)</td></tr>
<tr class="memdesc:a5fdcc980bcd7bca9bd408c9e7f48aee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a descriptor at the given index from the gallery.  <a href="#a5fdcc980bcd7bca9bd408c9e7f48aee8">More...</a><br /></td></tr>
<tr class="separator:a5fdcc980bcd7bca9bd408c9e7f48aee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d7772a80ba58a5b4f5cbe34a3ab90c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a05d7772a80ba58a5b4f5cbe34a3ab90c">saveGallery</a> (const char *file_name)</td></tr>
<tr class="memdesc:a05d7772a80ba58a5b4f5cbe34a3ab90c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save gallery as a binary file.  <a href="#a05d7772a80ba58a5b4f5cbe34a3ab90c">More...</a><br /></td></tr>
<tr class="separator:a05d7772a80ba58a5b4f5cbe34a3ab90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142642429c526b4da49f3f02bc10079f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a142642429c526b4da49f3f02bc10079f">loadGallery</a> (const char *file_name)</td></tr>
<tr class="memdesc:a142642429c526b4da49f3f02bc10079f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load gallery from a binary file.  <a href="#a142642429c526b4da49f3f02bc10079f">More...</a><br /></td></tr>
<tr class="separator:a142642429c526b4da49f3f02bc10079f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a14f64d0180c758cd33569496b0db1b"><td class="memItemLeft" align="right" valign="top"><a id="a3a14f64d0180c758cd33569496b0db1b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a3a14f64d0180c758cd33569496b0db1b">resetGallery</a> ()</td></tr>
<tr class="memdesc:a3a14f64d0180c758cd33569496b0db1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all face descriptors from the gallery. <br /></td></tr>
<tr class="separator:a3a14f64d0180c758cd33569496b0db1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2a4e5faab573ece77aeca34858ba2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a2f2a4e5faab573ece77aeca34858ba2c">recognize</a> (short *descriptor, int n, const char **names, float *similarities)</td></tr>
<tr class="memdesc:a2f2a4e5faab573ece77aeca34858ba2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare a face to all faces in the current gallery and return n names of the most similar faces.  <a href="#a2f2a4e5faab573ece77aeca34858ba2c">More...</a><br /></td></tr>
<tr class="separator:a2f2a4e5faab573ece77aeca34858ba2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7b75b17fce5cb5c89e4030eabab22afe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a7b75b17fce5cb5c89e4030eabab22afe">is_initialized</a></td></tr>
<tr class="memdesc:a7b75b17fce5cb5c89e4030eabab22afe"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the model used in the <a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html" title="VisageFaceRecognition class contains a face recognition algorithm capable of measuring similarity bet...">VisageFaceRecognition</a> is loaded and initialized successfully value of the is_initialized variable is true, otherwise it is false.  <a href="#a7b75b17fce5cb5c89e4030eabab22afe">More...</a><br /></td></tr>
<tr class="separator:a7b75b17fce5cb5c89e4030eabab22afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html" title="VisageFaceRecognition class contains a face recognition algorithm capable of measuring similarity bet...">VisageFaceRecognition</a> class contains a face recognition algorithm capable of measuring similarity between human faces and recognizing a person's identity from frontal facial images (yaw angle approximately from -20 to 20 degrees). </p>
<p>Similarity between two faces is calculated as difference between their face descriptors and returned as a value between 0 (no similarity) and 1 (maximum similarity).</p>
<p>The face descriptor is a condensed representation of a face. It is an array of short values. The dimension of the array is obtained using <a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a7a8845a91fdb250e6507ec33065de595" title="Gets the descriptor&#39;s size. ">getDescriptorSize()</a> function, from now on in the text referred to as DESCRIPTOR_SIZE. For any two faces, the distance between descriptors is a measure of their similarity.</p>
<p>For the purpose of face recognition, faces are stored in a gallery. The gallery is an array of face descriptors, with a corresponding array of names, so that the gallery may contain n descriptors and a corresponding name for each descriptor. To perform recognition, the face descriptor extracted from the input image is then compared with face descriptors from the gallery and the similarity between the input face descriptor and all face descriptors from the gallery is calculated in order to find the face(s) from the gallery that are most similar to the input face. The <a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html" title="VisageFaceRecognition class contains a face recognition algorithm capable of measuring similarity bet...">VisageFaceRecognition</a> class includes a full set of functions for manipulating the gallery, including adding, removing, naming descriptors in the gallery as well as loading and saving the gallery to file. </p>

<p class="definition">Definition at line <a class="el" href="VisageFaceRecognition_8h_source.html#l00051">51</a> of file <a class="el" href="VisageFaceRecognition_8h_source.html">VisageFaceRecognition.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a12d3e5c94eae1f2ab4d41cba0702cac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12d3e5c94eae1f2ab4d41cba0702cac8">&#9670;&nbsp;</a></span>VisageFaceRecognition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VisageSDK::VisageFaceRecognition::VisageFaceRecognition </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dataPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataPath</td><td>path to the folder containing the data files required for face recognition function. In the Visage|SDK distribution, this is the folder: Samples/data/bdtsdata/NN. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac91c11f870c9316735fe470501f9261a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91c11f870c9316735fe470501f9261a">&#9670;&nbsp;</a></span>addDescriptor() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::addDescriptor </td>
          <td>(</td>
          <td class="paramtype">VsImage *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *&#160;</td>
          <td class="paramname"><em>facedata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts a face descriptor from the input RGB image and adds it to the gallery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>VsImage pointer that contains the input RGB image. The image should contain only one face and this face will be added to the gallery. In case of multiple faces in the image, it is not defined which face would be used. </td></tr>
    <tr><td class="paramname">facedata</td><td>facial data obtained from <a class="el" href="classVisageSDK_1_1VisageTracker.html" title="VisageTracker is a face tracker capable of tracking the head pose, facial features and gaze for multi...">VisageTracker</a> or <a class="el" href="classVisageSDK_1_1VisageFeaturesDetector.html" title="Faces and facial features detector implementation. ">VisageFeaturesDetector</a>. </td></tr>
    <tr><td class="paramname">name</td><td>name of the face in the image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. The function may fail if the face is not found in the image or if the image argument is not a valid RGB image pointer.</dd></dl>
<p>See also: VsImage </p>

</div>
</div>
<a id="abbfc70ad38d7a2b9e88ef07239a3135c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbfc70ad38d7a2b9e88ef07239a3135c">&#9670;&nbsp;</a></span>addDescriptor() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::addDescriptor </td>
          <td>(</td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds face descriptor to the gallery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor</td><td>descriptor to be added to the gallery obtained by calling extractDescriptor. </td></tr>
    <tr><td class="paramname">name</td><td>name of the descriptor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. The function may fail if the descriptor is not a valid RGB image pointer. </dd></dl>

</div>
</div>
<a id="a86f5c16de8390bf806dfb53fee0e9809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f5c16de8390bf806dfb53fee0e9809">&#9670;&nbsp;</a></span>descriptorsSimilarity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float VisageSDK::VisageFaceRecognition::descriptorsSimilarity </td>
          <td>(</td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>first_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>second_descriptor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates similarity between two descriptors. </p>
<p>The function returns a float value between 0 and 1. Two descriptors are equal if the similarity is 1. Two descriptors are completely different if the similarity is 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first_descriptor</td><td>pointer to the first descriptor, an array of DESCRIPTOR_SIZE short values. </td></tr>
    <tr><td class="paramname">second_descriptor</td><td>pointer to the second descriptor, an array of DESCRIPTOR_SIZE short values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float value between 0 and 1, 1 means full similarity and 0 means full diversity. </dd></dl>

</div>
</div>
<a id="a07a12ea770a8e822018a2322b00ae701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a12ea770a8e822018a2322b00ae701">&#9670;&nbsp;</a></span>extractDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::extractDescriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *&#160;</td>
          <td class="paramname"><em>facedata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VsImage *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>descriptor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts the face descriptor for face recognition from a facial image. </p>
<p>Prior to using this function, it is necessary to process the facial image or video frame using <a class="el" href="classVisageSDK_1_1VisageTracker.html" title="VisageTracker is a face tracker capable of tracking the head pose, facial features and gaze for multi...">VisageTracker</a> or <a class="el" href="classVisageSDK_1_1VisageFeaturesDetector.html" title="Faces and facial features detector implementation. ">VisageFeaturesDetector</a> and pass the obtained facial data to this function. An example of use: </p><div class="fragment"><div class="line">VsImage *frame = 0;</div><div class="line">frame = cvLoadImage(fileName);</div><div class="line"></div><div class="line">std::string dataPathFeaturesDetector(<span class="stringliteral">&quot;../Samples/data/bdtsdata&quot;</span>);</div><div class="line">VisageFeaturesDetector *m_Detector = <span class="keyword">new</span> VisageFeaturesDetector();</div><div class="line"></div><div class="line">std::string dataPathFaceRecognition(<span class="stringliteral">&quot;../Samples/data/bdtsdata/NN&quot;</span>);</div><div class="line"><a class="code" href="classVisageSDK_1_1VisageFaceRecognition.html#a12d3e5c94eae1f2ab4d41cba0702cac8">VisageFaceRecognition</a> *m_Recognition = <span class="keyword">new</span> <a class="code" href="classVisageSDK_1_1VisageFaceRecognition.html#a12d3e5c94eae1f2ab4d41cba0702cac8">VisageFaceRecognition</a>(dataPathFaceRecognition.c_str());</div><div class="line"></div><div class="line"><span class="keywordflow">if</span>(m_Detector-&gt;Initialize(dataPathFeaturesDetector.c_str()) &amp;&amp; m_Recognition-&gt;is_initialized)</div><div class="line">{</div><div class="line">      <span class="keywordtype">int</span> DESCRIPTOR_SIZE = m_Recognition-&gt;getDescriptorSize();</div><div class="line">        FaceData* data = <span class="keyword">new</span> FaceData[MAX_FACES];</div><div class="line">      <span class="keywordtype">int</span> n_faces = m_Detector-&gt;detectFacialFeatures(frame, data, MAX_FACES);   </div><div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_faces; i++){</div><div class="line">        <span class="keywordtype">short</span>* descriptor = <span class="keyword">new</span> <span class="keywordtype">short</span>[DESCRIPTOR_SIZE];</div><div class="line">        <span class="keywordtype">int</span> status = m_Recognition-&gt;extractDescriptor(&amp;data[i], (VsImage*)iplImg, descriptor);</div><div class="line">        }</div><div class="line">}</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">facedata</td><td>facial data obtained from <a class="el" href="classVisageSDK_1_1VisageTracker.html" title="VisageTracker is a face tracker capable of tracking the head pose, facial features and gaze for multi...">VisageTracker</a> or <a class="el" href="classVisageSDK_1_1VisageFeaturesDetector.html" title="Faces and facial features detector implementation. ">VisageFeaturesDetector</a>. </td></tr>
    <tr><td class="paramname">image</td><td>VsImage pointer to the input RGB image. </td></tr>
    <tr><td class="paramname">descriptor</td><td>pointer to a DESCRIPTOR_SIZE-dimensional array of short. The resulting face descriptor is returned in this array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure.</dd></dl>
<p>See also: <a class="el" href="structVisageSDK_1_1FaceData.html" title="Face data structure, used as container for all face tracking and detection results. ">FaceData</a>, <a class="el" href="classVisageSDK_1_1VisageTracker.html" title="VisageTracker is a face tracker capable of tracking the head pose, facial features and gaze for multi...">VisageTracker</a>, <a class="el" href="classVisageSDK_1_1VisageFeaturesDetector.html" title="Faces and facial features detector implementation. ">VisageFeaturesDetector</a> </p>

</div>
</div>
<a id="af69486334c7de336fdd4fd404af1b217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af69486334c7de336fdd4fd404af1b217">&#9670;&nbsp;</a></span>getDescriptorCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::getDescriptorCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets number of descriptors in the gallery. </p>
<dl class="section return"><dt>Returns</dt><dd>returns number of descriptors in the gallery. </dd></dl>

</div>
</div>
<a id="a8aeed5002516004a63ececb15daa6827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aeed5002516004a63ececb15daa6827">&#9670;&nbsp;</a></span>getDescriptorName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::getDescriptorName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name of a descriptor at the given index in the gallery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>buffer into which the name of a descriptor is filled. </td></tr>
    <tr><td class="paramname">index</td><td>index of descriptor in the gallery. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. The function may fail if index is out of range. </dd></dl>

</div>
</div>
<a id="a7a8845a91fdb250e6507ec33065de595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8845a91fdb250e6507ec33065de595">&#9670;&nbsp;</a></span>getDescriptorSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::getDescriptorSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the descriptor's size. </p>
<p>The function returns size of an array which should be allocated for storing the descriptor.</p>
<dl class="section return"><dt>Returns</dt><dd>descriptor's size. </dd></dl>

</div>
</div>
<a id="a142642429c526b4da49f3f02bc10079f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a142642429c526b4da49f3f02bc10079f">&#9670;&nbsp;</a></span>loadGallery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::loadGallery </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load gallery from a binary file. </p>
<p>The entries from the loaded gallery are appended to the current gallery. If it is required to replace existing gallery with the loaded one, call <a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html#a3a14f64d0180c758cd33569496b0db1b" title="Clear all face descriptors from the gallery. ">resetGallery()</a> first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>name of the file (including path if needed) from which the gallery will be loaded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. The function may fail if the file can not be opened. </dd></dl>

</div>
</div>
<a id="a2f2a4e5faab573ece77aeca34858ba2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f2a4e5faab573ece77aeca34858ba2c">&#9670;&nbsp;</a></span>recognize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::recognize </td>
          <td>(</td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>similarities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare a face to all faces in the current gallery and return n names of the most similar faces. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor</td><td>pointer to the face descriptor of the face to be recognized (compared to the gallery). </td></tr>
    <tr><td class="paramname">n</td><td>number of names and similarities to be returned. </td></tr>
    <tr><td class="paramname">names</td><td>pointer to an array of char arrays. In this array the function will return names of n faces from the gallery that are most similar to the input image ascending by similarity. </td></tr>
    <tr><td class="paramname">similarities</td><td>pointer to an array of n floats. The function will return the similarity values for the n most similar faces in this array, corresponding to the names array. The values are sorted, with the largest similarity value first. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of compared faces. </dd></dl>

</div>
</div>
<a id="a5fdcc980bcd7bca9bd408c9e7f48aee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdcc980bcd7bca9bd408c9e7f48aee8">&#9670;&nbsp;</a></span>removeDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::removeDescriptor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a descriptor at the given index from the gallery. </p>
<p>The remaining descriptors in the gallery above the given index (if any) are shifted down in the gallery array by one place, filling the gap created by removing the descriptor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>index of descriptor in the gallery. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. The function may fail if index is out of range. </dd></dl>

</div>
</div>
<a id="a62fe3a006eb9ca249b4ded43ed7c6f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62fe3a006eb9ca249b4ded43ed7c6f4b">&#9670;&nbsp;</a></span>replaceDescriptorName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::replaceDescriptorName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replaces the name of a descriptor at the given index in the gallery with new name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>new descriptor name. </td></tr>
    <tr><td class="paramname">index</td><td>index of descriptor in the gallery. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. The function may fail if index is out of range. </dd></dl>

</div>
</div>
<a id="a05d7772a80ba58a5b4f5cbe34a3ab90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d7772a80ba58a5b4f5cbe34a3ab90c">&#9670;&nbsp;</a></span>saveGallery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceRecognition::saveGallery </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save gallery as a binary file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>name of the file (including path if needed) into which the gallery will be saved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. The function may fail if the file can not be opened. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7b75b17fce5cb5c89e4030eabab22afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b75b17fce5cb5c89e4030eabab22afe">&#9670;&nbsp;</a></span>is_initialized</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool VisageSDK::VisageFaceRecognition::is_initialized</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the model used in the <a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html" title="VisageFaceRecognition class contains a face recognition algorithm capable of measuring similarity bet...">VisageFaceRecognition</a> is loaded and initialized successfully value of the is_initialized variable is true, otherwise it is false. </p>
<p>Make sure the variable is set to true after instantiation and before using other function of <a class="el" href="classVisageSDK_1_1VisageFaceRecognition.html" title="VisageFaceRecognition class contains a face recognition algorithm capable of measuring similarity bet...">VisageFaceRecognition</a> API. An example of use: </p><div class="fragment"><div class="line"><a class="code" href="classVisageSDK_1_1VisageFaceRecognition.html#a12d3e5c94eae1f2ab4d41cba0702cac8">VisageFaceRecognition</a> *m_VFR = <span class="keyword">new</span> <a class="code" href="classVisageSDK_1_1VisageFaceRecognition.html#a12d3e5c94eae1f2ab4d41cba0702cac8">VisageFaceRecognition</a>(<span class="stringliteral">&quot;bdtsdata/NN&quot;</span>);</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordflow">if</span>(m_VFR-&gt;is_initialized)</div><div class="line">{</div><div class="line">              <span class="keywordtype">int</span> descriptor_size = m_VFR-&gt;getDescriptorSize();</div><div class="line">              <span class="comment">// use VisageFaceRecognition API functions</span></div><div class="line">}</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="VisageFaceRecognition_8h_source.html#l00077">77</a> of file <a class="el" href="VisageFaceRecognition_8h_source.html">VisageFaceRecognition.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="VisageFaceRecognition_8h_source.html">VisageFaceRecognition.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
